# Architecture Diagram

This diagram represents the architecture of the **gmail-client** application, consisting of a frontend (client) and a backend (server), both hosted on Azure Container Apps.

```mermaid
graph TD
%% Services
svcazurecontainerapps_gmailclient["`Name: gmail-client
Path: client
Language: ts
Port: 5173
DockerFile: Dockerfile
Docker Context: ./`"]
svcazurecontainerapps_gmailserver["`Name: gmail-server
Path: server
Language: ts
Port: 5000
DockerFile: Dockerfile
Docker Context: ./`"]
subgraph "Compute Resources"
%% Resources
subgraph containerappenv["Azure Container Apps (ACA) Environment"]
azurecontainerapps_gmailclient("`gmail-client (Azure Container App)`")
azurecontainerapps_gmailserver("`gmail-server (Azure Container App)`")
end
containerappenv:::cluster
end
subgraph "Dependency Resources"
%% Dependency Resources
azurestorageaccount_sqlitestorage["`sqlite-storage (Azure Storage Account)`"]
end
%% Relationships
svcazurecontainerapps_gmailclient --> |"hosted on"| azurecontainerapps_gmailclient
azurecontainerapps_gmailclient -.-> |"http"| azurecontainerapps_gmailserver
svcazurecontainerapps_gmailserver --> |"hosted on"| azurecontainerapps_gmailserver
azurecontainerapps_gmailserver -.-> |"secret"| azurestorageaccount_sqlitestorage
```

## Data Flow

1.  **Frontend**: The React application (`gmail-client`) runs in the user's browser. It communicates with the backend via HTTP requests proxying to port 5000.
2.  **Backend**: The Node.js/Express application (`gmail-server`) handles API requests.
3.  **Storage**: The backend persists data (emails, accounts, etc.) to a SQLite database. in a cloud environment, this file (`gmail-client.db`) should be stored on a persistent volume (Azure Storage Account) to survive container restarts.
